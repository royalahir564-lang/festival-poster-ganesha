<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ganesh Poster Maker - Text Styling Upgrade</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #fff url('https://png.pngtree.com/thumb_back/fh260/background/20210831/pngtree-ganesha-happy-ganesh-chaturthi-festival-background-image_774430.jpg') no-repeat center top;
    background-size: cover;
    padding: 20px;
    transition: background 0.4s, color 0.4s;
}
h2 { color: darkred; font-size: 32px; margin-bottom: 5px; text-shadow: 1px 1px 2px #00000055; }
.credit { font-size: 14px; color: #333; margin-bottom: 15px; font-style: italic; }
canvas { border: 3px solid darkgreen; border-radius: 15px; margin-top: 15px; max-width:100%; cursor:pointer; }
input, button, select, a { margin: 10px; padding: 10px 15px; border: none; border-radius: 8px; font-size:16px; }
button, a { cursor: pointer; background: darkgreen; color:white; font-weight:bold; text-decoration:none; transition:0.3s;}
button:hover,a:hover { background:#005500; box-shadow:2px 2px 8px #333; }
select,input[type=color],input[type=range]{cursor:pointer;}
.dark-mode{background:#111 !important; color:#eee !important;}
.dark-mode h2{color:#ffcc00;}
.dark-mode .credit{color:#aaa;}
.confetti,.sparkle{position:absolute;width:10px;height:10px;z-index:999;pointer-events:none;border-radius:50%;opacity:0.8;}
.sparkle{background:white;box-shadow:0 0 8px 3px #fff;}
.sticker-btn{font-size:24px;cursor:pointer;margin:0 5px;}
</style>
</head>
<body>
<h2>ğŸ™ Ganesh Chaturthi Poster Maker ğŸ™</h2>
<div class="credit">
This page is made by <b>Rahul Gojiya</b>. If any query please contact: <b>9265400740</b>
</div>

<!-- Upload photo -->
<input type="file" id="photoInput" accept="image/*"><br>

<!-- Enter details -->
<input type="text" id="nameInput" placeholder="Enter your name"><br>
<input type="text" id="mobileInput" placeholder="Enter Mobile Number"><br>
<input type="text" id="addressInput" placeholder="Enter Address"><br>

<!-- Font and text styling -->
<label>Font:</label>
<select id="fontSelect">
<option value="'Pacifico', cursive">Pacifico</option>
<option value="'Lobster', cursive">Lobster</option>
<option value="'Poppins', sans-serif">Poppins</option>
<option value="Arial, sans-serif">Arial</option>
</select>

<label>Text Style:</label>
<select id="textStyle">
<option value="normal">Normal</option>
<option value="shadow">Shadow</option>
<option value="glow">Glow</option>
<option value="outline">Outline</option>
<option value="gradient">Gradient</option>
</select>

<label>Color:</label>
<input type="color" id="colorPicker" value="#00008B">

<label>Size:</label>
<input type="range" id="fontSizeSlider" min="20" max="60" value="37">

<label>Rotate:</label>
<input type="range" id="rotateSlider" min="-45" max="45" value="0"><br>

<!-- Stickers -->
<span>ğŸ¨ Add Stickers:</span>
<span class="sticker-btn" onclick="selectSticker('ganesh')">ğŸ˜</span>
<span class="sticker-btn" onclick="selectSticker('diya')">ğŸª”</span>
<span class="sticker-btn" onclick="selectSticker('modak')">ğŸ¬</span>

<br>
<!-- Buttons -->
<button onclick="generatePoster()">Generate Poster</button>
<button onclick="downloadPoster()">Download Poster</button>
<a id="shareBtn" target="_blank">ğŸ“¤ Share on WhatsApp</a>
<button onclick="toggleDarkMode()">ğŸŒ™ Toggle Dark/Light Mode</button>

<canvas id="posterCanvas" width="600" height="800"></canvas>

<script>
const canvas=document.getElementById("posterCanvas");
const ctx=canvas.getContext("2d");
const template=new Image();
template.src="ganesh.png";

let userImage=null;
let stickers=[];
let selectedSticker=null;

document.getElementById("photoInput").addEventListener("change",e=>{
const file=e.target.files[0];
if(!file) return;
const reader=new FileReader();
reader.onload=function(event){
userImage=new Image();
userImage.src=event.target.result;
userImage.onload=()=>generatePoster();
};
reader.readAsDataURL(file);
});

function selectSticker(name){selectedSticker=name;}
canvas.addEventListener("click", e=>{
if(!selectedSticker) return;
const rect=canvas.getBoundingClientRect();
const x=e.clientX-rect.left;
const y=e.clientY-rect.top;
stickers.push({type:selectedSticker,x,y});
generatePoster();
});

function generatePoster(){
const name=document.getElementById("nameInput").value;
const mobile=document.getElementById("mobileInput").value;
const address=document.getElementById("addressInput").value;
const fontFamily=document.getElementById("fontSelect").value;
const nameColor=document.getElementById("colorPicker").value;
const nameSize=document.getElementById("fontSizeSlider").value;
const rotateDeg=document.getElementById("rotateSlider").value;
const textStyle=document.getElementById("textStyle").value;

// Background
ctx.drawImage(template,0,0,canvas.width,canvas.height);

// Photo box
const photoX=40,photoY=630,photoW=120,photoH=150;
if(userImage){
ctx.fillStyle="#fff";
ctx.fillRect(photoX,photoY,photoW,photoH);
ctx.drawImage(userImage,photoX,photoY,photoW,photoH);
}

// White rectangle for text
ctx.fillStyle="white";
ctx.fillRect(200,660,350,150);

// Text styling
ctx.save();
ctx.translate(375,705);
ctx.rotate(rotateDeg*Math.PI/180);
ctx.textAlign="center";

ctx.shadowColor="transparent";
ctx.shadowBlur=0;
if(textStyle==="shadow"){ctx.shadowColor="rgba(0,0,0,0.7)";ctx.shadowBlur=6;}
else if(textStyle==="glow"){ctx.shadowColor=nameColor;ctx.shadowBlur=10;}
else if(textStyle==="outline"){ctx.strokeStyle=nameColor;ctx.lineWidth=2;ctx.strokeText(name,0,0);}
else if(textStyle==="gradient"){
let grad=ctx.createLinearGradient(-150,0,150,0);
grad.addColorStop(0,"#ff0000");grad.addColorStop(0.5,"#ffff00");grad.addColorStop(1,"#00ff00");
ctx.fillStyle=grad;
}else{ctx.fillStyle=nameColor;}

ctx.font=`${nameSize}px ${fontFamily}`;
ctx.fillText(name,0,0);
ctx.restore();

// Mobile
if(mobile){
ctx.font="24px Arial Black";
ctx.fillStyle="darkred";
ctx.textAlign="center";
ctx.fillText("ğŸ“± "+mobile,375,740);
}

// Address
if(address){
ctx.font="24px Arial Black";
ctx.fillStyle="darkgreen";
ctx.textAlign="center";
ctx.fillText("ğŸ“ "+address,375,775);
}

// Stickers
ctx.font="32px Arial";
stickers.forEach(s=>{
let symbol="";
if(s.type==="ganesh") symbol="ğŸ˜";
if(s.type==="diya") symbol="ğŸª”";
if(s.type==="modak") symbol="ğŸ¬";
ctx.fillText(symbol,s.x,s.y);
});

// Watermark
ctx.font="14px Arial";
ctx.fillStyle="black";
ctx.textAlign="right";
ctx.fillText("Made by Rangvika Graphics â¤ï¸",canvas.width-10,canvas.height-10);

// WhatsApp Share
const imageURL=canvas.toDataURL("image/png");
document.getElementById("shareBtn").href="https://wa.me/?text="+encodeURIComponent("ğŸ™ Happy Ganesh Chaturthi ğŸ™\nHere is my poster:\n"+imageURL);

// Confetti
launchConfetti();
}

function downloadPoster(){
const link=document.createElement("a");
link.download="GaneshPoster.png";
link.href=canvas.toDataURL();
link.click();
}

function toggleDarkMode(){document.body.classList.toggle("dark-mode");}
template.onload=()=>generatePoster();

// Confetti
function launchConfetti(){
for(let i=0;i<20;i++){
const conf=document.createElement("div");
conf.classList.add("confetti");
conf.style.left=Math.random()*window.innerWidth+"px";
conf.style.top="-20px";
conf.style.backgroundColor=`hsl(${Math.random()*360},70%,50%)`;
document.body.appendChild(conf);
animateConfetti(conf);
}
for(let i=0;i<10;i++){
const sp=document.createElement("div");
sp.classList.add("sparkle");
sp.style.left=Math.random()*window.innerWidth+"px";
sp.style.top="-20px";
document.body.appendChild(sp);
animateConfetti(sp,true);
}
}

function animateConfetti(el,sparkle=false){
let top=-20;
const fall=setInterval(()=>{
top+=5+Math.random()*5;
el.style.top=top+"px";
if(top>window.innerHeight){clearInterval(fall);el.remove();}
},30);
}
</script>
</body>
</html>
